<!DOCTYPE html>
<html>
    <head>
        <title>Test</title>
    </head>
    <body>
        <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
        <script>
            const key = "&apikey=b718873bcc30e1bfc3eb75f18f1a3f5a"
            const queryUrlLocation = "https://developers.zomato.com/api/v2.1/locations?query="
            const locations = "London"
            $.ajax({
                url: queryUrlLocation + locations + key
            }).then(Process).catch(error)

            function Process(response){
                locationDetails(response)

            }
            function error(error){
                console.log(error)
            }

            function locationDetails(response){
                console.log(response.location_suggestions[0].entity_type)
                const entity_type = response.location_suggestions[0].entity_type
                const entity_id =  response.location_suggestions[0].entity_id
                const queryUrlLocationDetails = "https://developers.zomato.com/api/v2.1/location_details?entity_id="

            $.ajax({
                url: queryUrlLocationDetails + entity_id + "&entity_type=" + entity_type + key 
            }).then(function(data){
                console.log(data)
                restaurant(data)
            }).catch(error)
            }

            function restaurant(data){
                const resturantTopRatedId = data.nearby_res
                const queryUrlResturant = "https://developers.zomato.com/api/v2.1/restaurant?res_id="
            for(let i = 0 ; i < resturantTopRatedId.length;i++ ){
                 
            
                $.ajax({
                url: queryUrlResturant + resturantTopRatedId[i] + key 
            }).then(function(data){
                console.log(data.name)
            }).catch(error)
            }
            
        }

        
        </script>
    </body>
</html>